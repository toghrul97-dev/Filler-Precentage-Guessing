<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guessing game</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Quicksand:wght@300..700&display=swap');

*{
    box-sizing: border-box;
}
body{
    font-family: "Poppins", sans-serif;
    display: flex;
    justify-content: center;
    overflow: hidden;
    background-color:  rgb(255, 255, 255);
    margin: 0;
    padding: 0;
    background: url('../images/sunset-grass.jpg') no-repeat center center;
    background-size: cover; 
    transform: scale(1.25);
    transform-origin: top center;
} 
body h1{
    font-size: 2.8em;
    margin-top: 75px;
    margin-bottom: 130px;
}
.image{
    position: absolute;
    z-index: -1;
    opacity: 70%;
}
.game{
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    margin-top: 10px;
}
.box{
    transform: translateX(-55%);
}
.container{
    border: solid 4px;
    position: relative;
    left: 5%;
    height: 325px;
    width: 225px; 
    display: flex;
    align-items: center;
    justify-content: center;
}
.filler{
    width: 100%;
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    border: none;
    background: linear-gradient(to right, rgb(216, 20, 141), rgb(226, 135, 15));
    transition: 500ms;
    animation: growHeight 750ms ease-out;
}
@keyframes growHeight{
    0%{
        height: 0;
    }
    100%{
        height: var(--target-height);
    }
}
.text{
    position: relative;
    left: 370px;
    bottom: 288px;
}
.label{
    font-size: 2.5em;
    margin-left: 10px;
    font-weight: 600;
}
.input{
    height: 85px;
    width: 85px;
    font-size: 2.5em;
    font-weight: 500;
    border: none;
    outline: none;
    border-radius: 20px;
    text-align: center;
    cursor: pointer;
    transition: 100ms;
    background: linear-gradient(to right, rgb(223, 74, 166), rgb(223, 162, 83));
    box-shadow: 5px 5px 10px;
}
.alert{
    position: absolute;
    display: flex;
    justify-content: center;
    bottom: 500px;
    font-size: 30px;
    color: #ab1c00;
    font-weight: bold;
    width: 150%;
    visibility: hidden;
}
.submit{
    position: relative;
    left: 370px;
    z-index: 1;
    bottom: 200px;
    height: 85px;
    width: 85px;
    border: none;
    border-radius: 20px;
    background: linear-gradient(to right, rgb(223, 74, 166), rgb(223, 162, 83));
    font-size: 1.3em;
    font-weight: 600;
    box-shadow: 5px 5px 10px;
    cursor: pointer;
    transition: scale 200ms;
}
.submit:hover{
    scale: 1.1;
    box-shadow: 7px 7px 10px;
    background: linear-gradient(to right, rgb(223, 108, 179), rgb(219, 177, 121));
}
.p{
    z-index: 1;
    font-size: 50px;
}
.animate-text{
    animation: Drop 250ms ease-out;
}
.fade-out{
    animation: fadeOut 250ms ease-out;
}
.fade-in{
    animation: fadeIn 250ms ease-out;
}
.shake{
    animation: shake 750ms linear;
}
@keyframes Drop{
    from{
        transform: translateY(-300%);
    }
}
@keyframes fadeOut{
    0%{
        opacity: 1;
    }
    100%{
        opacity: 0;
    }
}
@keyframes fadeIn{
    0%{
        opacity: 0;
    }
    100%{
        opacity: 1;
    }
}
@keyframes shake{
    0%{transform: rotate(1deg);}
    10%{transform: rotate(-1deg);}
    20%{transform: rotate(1deg);}
    30%{transform: rotate(-1deg);}
    40%{transform: rotate(1deg);}
    50%{transform: rotate(-1deg);}
    60%{transform: rotate(1deg);}
    70%{transform: rotate(-1deg);}
    80%{transform: rotate(1deg);}
    90%{transform: rotate(-1deg);}
    100%{transform: rotate(1deg);}
}
#hub{
    position: absolute;
    width: 170px;
    height: 70px;
    border: none;
    border-radius: 15px;
    text-decoration: none;
    left: 210px;
    bottom: 60px;
    background: linear-gradient(to right, rgb(223, 74, 166), rgb(223, 162, 83));
    box-shadow: 5px 5px 10px black;
    cursor: pointer;
    font-size: 1.3em;
    display: flex;
    justify-content: center;
    align-items: center;
    color: black;
    font-weight: 700;
    transition: 0.1s;
}
#hub:hover{
    scale: 1.05;
    box-shadow: 10px 10px 10px;
    background: linear-gradient(to right, rgb(228, 113, 184), rgb(223, 176, 114));
}
    </style>
</head>
<body>
    <div class="game">
        <h1 id="h1">Guess what % of the container is filled</h1>
        <p class="alert">Please enter a valid number</p>
        <div class="box">
            <div class="container">
                <p class="p"></p>
                <div class="filler"></div>
            </div>
            <div class="text">
                <input class="input" type="text" autofocus maxlength="3">
                <label class="label">%</label>
            </div>
            <button class="submit" onclick="enterf()">Enter</button>
        </div>
    </div>
    <script>
        let input = document.getElementsByClassName("input")[0];
let filler = document.getElementsByClassName("filler")[0];
let randomHeight = String(Math.floor(Math.random()*100 ) + 1);
let height = randomHeight + "%";
let inputBox = document.getElementsByClassName("text")[0];
filler.style.setProperty("height", height);
filler.style.setProperty('--target-height', height)
let revealAnswer = document.getElementsByClassName("p")[0];
let enter = document.getElementsByClassName("submit")[0];
let h1 = document.getElementById("h1");
let alert = document.getElementsByClassName("alert")[0];
   function enterf(){
    if(input.value + "%" == height){
        h1.innerText = "Correct!";
        revealAnswer.innerHTML = height;
        revealAnswer.classList.add("fade-in")
        setTimeout(function(){
            h1.classList.remove("fade-in")
        }, 250);
        h1.style.scale = "1.2";
        h1.style.color = "#097001";
        h1.classList.add("animate-text");
        setTimeout(function(){
            h1.classList.remove("animate-text")
        }, 250);
        inputBox.style.visibility = "hidden";
        inputBox.classList.add("fade-out");
        setTimeout(function(){
            inputBox.classList.remove("fade-out")
        }, 250);
        enter.style.visibility = "hidden";
        alert.style.visibility = "hidden";
        setTimeout(function() {
            window.location.replace(window.location.href);
        }, 1250);
    }
    else if(Number(input.value) >= 1 && Number(input.value) <= 100){
        h1.innerText = "Incorrect!";
        revealAnswer.innerHTML = height;
        revealAnswer.classList.add("fade-in")
        setTimeout(function(){
            h1.classList.remove("fade-in")
        }, 250);
        h1.style.scale = "1.2";
        h1.style.color = "#ab0000ff";
        h1.classList.add("animate-text");
        setTimeout(function(){
            h1.classList.remove("animate-text")
        }, 250);
        inputBox.style.visibility = "hidden";
        inputBox.classList.add("fade-out");
        setTimeout(function(){
            inputBox.classList.remove("fade-out")
        }, 250);
        enter.style.visibility = "hidden";
        alert.style.visibility = "hidden";
        setTimeout(function() {
            window.location.replace(window.location.href);
        }, 1250);
    }
    else{
        alert.style.visibility = "visible";
        alert.classList.add("shake");
        setTimeout(function(){
            alert.classList.remove("shake")
        }, 750);
    }
}
input.addEventListener("keydown", function(e) {
   if (e.key === "Enter") enterf();
});
    </script>
</body>
</html>